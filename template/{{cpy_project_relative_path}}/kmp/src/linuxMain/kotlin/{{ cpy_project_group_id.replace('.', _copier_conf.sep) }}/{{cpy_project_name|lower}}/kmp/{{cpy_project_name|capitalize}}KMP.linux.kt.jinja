package {{cpy_project_group_id}}.{{cpy_project_name|lower}}.kmp

import kotlinx.cinterop.*
import {{cpy_project_name|lower}}.*

/**
 * Linux implementation of {{cpy_project_name|capitalize}}KMP
 *
 * This implementation uses Kotlin/Native cinterop to directly call C/C++ functions
 * without JNI overhead.
 */
@OptIn(ExperimentalForeignApi::class)
actual class {{cpy_project_name|capitalize}}KMP actual constructor() {
    actual fun setDebugLog(enable: Boolean) {
        {{cpy_project_name|lower}}_SetDebugLog(enable)
    }

    actual fun getVersion(): String {
        return {{cpy_project_name|lower}}_GetVersion()?.toKString() ?: "Unknown"
    }

    actual fun getPlatformName(): String {
        val arch = Platform.cpuArchitecture.name
        return "Linux ($arch)"
    }
}
